{
  "version": 3,
  "sources": ["../../@atlaskit/pragmatic-drag-and-drop-hitbox/dist/esm/closest-edge.js"],
  "sourcesContent": ["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n// re-exporting type to make it easy to use\n\nvar getDistanceToEdge = {\n  top: function top(rect, client) {\n    return Math.abs(client.y - rect.top);\n  },\n  right: function right(rect, client) {\n    return Math.abs(rect.right - client.x);\n  },\n  bottom: function bottom(rect, client) {\n    return Math.abs(rect.bottom - client.y);\n  },\n  left: function left(rect, client) {\n    return Math.abs(client.x - rect.left);\n  }\n};\n\n// using a symbol so we can guarantee a key with a unique value\nvar uniqueKey = Symbol('closestEdge');\n\n/**\n * Adds a unique `Symbol` to the `userData` object. Use with `extractClosestEdge()` for type safe lookups.\n */\nexport function attachClosestEdge(userData, _ref) {\n  var _entries$sort$0$edge, _entries$sort$;\n  var element = _ref.element,\n    input = _ref.input,\n    allowedEdges = _ref.allowedEdges;\n  var client = {\n    x: input.clientX,\n    y: input.clientY\n  };\n  // I tried caching the result of `getBoundingClientRect()` for a single\n  // frame in order to improve performance.\n  // However, on measurement I saw no improvement. So no longer caching\n  var rect = element.getBoundingClientRect();\n  var entries = allowedEdges.map(function (edge) {\n    return {\n      edge: edge,\n      value: getDistanceToEdge[edge](rect, client)\n    };\n  });\n\n  // edge can be `null` when `allowedEdges` is []\n  var addClosestEdge = (_entries$sort$0$edge = (_entries$sort$ = entries.sort(function (a, b) {\n    return a.value - b.value;\n  })[0]) === null || _entries$sort$ === void 0 ? void 0 : _entries$sort$.edge) !== null && _entries$sort$0$edge !== void 0 ? _entries$sort$0$edge : null;\n  return _objectSpread(_objectSpread({}, userData), {}, _defineProperty({}, uniqueKey, addClosestEdge));\n}\n\n/**\n * Returns the value added by `attachClosestEdge()` to the `userData` object. It will return `null` if there is no value.\n */\nexport function extractClosestEdge(userData) {\n  var _ref2;\n  return (_ref2 = userData[uniqueKey]) !== null && _ref2 !== void 0 ? _ref2 : null;\n}"],
  "mappings": ";;;;;;AACA,SAAS,QAAQ,GAAG,GAAG;AAAE,MAAI,IAAI,OAAO,KAAK,CAAC;AAAG,MAAI,OAAO,uBAAuB;AAAE,QAAI,IAAI,OAAO,sBAAsB,CAAC;AAAG,UAAM,IAAI,EAAE,OAAO,SAAUA,IAAG;AAAE,aAAO,OAAO,yBAAyB,GAAGA,EAAC,EAAE;AAAA,IAAY,CAAC,IAAI,EAAE,KAAK,MAAM,GAAG,CAAC;AAAA,EAAG;AAAE,SAAO;AAAG;AAC9P,SAAS,cAAc,GAAG;AAAE,WAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AAAE,QAAI,IAAI,QAAQ,UAAU,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC;AAAG,QAAI,IAAI,QAAQ,OAAO,CAAC,GAAG,IAAE,EAAE,QAAQ,SAAUA,IAAG;AAAE,sBAAgB,GAAGA,IAAG,EAAEA,EAAC,CAAC;AAAA,IAAG,CAAC,IAAI,OAAO,4BAA4B,OAAO,iBAAiB,GAAG,OAAO,0BAA0B,CAAC,CAAC,IAAI,QAAQ,OAAO,CAAC,CAAC,EAAE,QAAQ,SAAUA,IAAG;AAAE,aAAO,eAAe,GAAGA,IAAG,OAAO,yBAAyB,GAAGA,EAAC,CAAC;AAAA,IAAG,CAAC;AAAA,EAAG;AAAE,SAAO;AAAG;AAGtb,IAAI,oBAAoB;AAAA,EACtB,KAAK,SAAS,IAAI,MAAM,QAAQ;AAC9B,WAAO,KAAK,IAAI,OAAO,IAAI,KAAK,GAAG;AAAA,EACrC;AAAA,EACA,OAAO,SAAS,MAAM,MAAM,QAAQ;AAClC,WAAO,KAAK,IAAI,KAAK,QAAQ,OAAO,CAAC;AAAA,EACvC;AAAA,EACA,QAAQ,SAAS,OAAO,MAAM,QAAQ;AACpC,WAAO,KAAK,IAAI,KAAK,SAAS,OAAO,CAAC;AAAA,EACxC;AAAA,EACA,MAAM,SAAS,KAAK,MAAM,QAAQ;AAChC,WAAO,KAAK,IAAI,OAAO,IAAI,KAAK,IAAI;AAAA,EACtC;AACF;AAGA,IAAI,YAAY,OAAO,aAAa;AAK7B,SAAS,kBAAkB,UAAU,MAAM;AAChD,MAAI,sBAAsB;AAC1B,MAAI,UAAU,KAAK,SACjB,QAAQ,KAAK,OACb,eAAe,KAAK;AACtB,MAAI,SAAS;AAAA,IACX,GAAG,MAAM;AAAA,IACT,GAAG,MAAM;AAAA,EACX;AAIA,MAAI,OAAO,QAAQ,sBAAsB;AACzC,MAAI,UAAU,aAAa,IAAI,SAAU,MAAM;AAC7C,WAAO;AAAA,MACL;AAAA,MACA,OAAO,kBAAkB,IAAI,EAAE,MAAM,MAAM;AAAA,IAC7C;AAAA,EACF,CAAC;AAGD,MAAI,kBAAkB,wBAAwB,iBAAiB,QAAQ,KAAK,SAAU,GAAG,GAAG;AAC1F,WAAO,EAAE,QAAQ,EAAE;AAAA,EACrB,CAAC,EAAE,CAAC,OAAO,QAAQ,mBAAmB,SAAS,SAAS,eAAe,UAAU,QAAQ,yBAAyB,SAAS,uBAAuB;AAClJ,SAAO,cAAc,cAAc,CAAC,GAAG,QAAQ,GAAG,CAAC,GAAG,gBAAgB,CAAC,GAAG,WAAW,cAAc,CAAC;AACtG;AAKO,SAAS,mBAAmB,UAAU;AAC3C,MAAI;AACJ,UAAQ,QAAQ,SAAS,SAAS,OAAO,QAAQ,UAAU,SAAS,QAAQ;AAC9E;",
  "names": ["r"]
}
